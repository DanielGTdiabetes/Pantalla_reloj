[Unit]
Description=Blitzortung WebSocket Client
After=network-online.target

[Service]
Type=simple
Environment=PYTHONUNBUFFERED=1
Environment=BLITZ_WS_URL=wss://blitzortung-proxy.fly.dev/ws
Environment=BLITZ_HEARTBEAT=20
Environment=MQTT_HOST=127.0.0.1
Environment=MQTT_PORT=1883
Environment=MQTT_TOPIC=blitzortung/1
ExecStart=/opt/blitzortung/.venv/bin/python3 /opt/blitzortung/ws_client/ws_client.py
WorkingDirectory=/opt/blitzortung/ws_client
Restart=always
RestartSec=5
StandardOutput=append:/var/log/pantalla/blitz_ws_client.log
StandardError=append:/var/log/pantalla/blitz_ws_client.err

[Install]
WantedBy=default.target
